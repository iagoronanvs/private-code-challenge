(this["webpackJsonpprivate-code"]=this["webpackJsonpprivate-code"]||[]).push([[0],{35:function(e,t,a){e.exports=a.p+"static/media/notes.e51411c4.svg"},41:function(e,t,a){e.exports=a.p+"static/media/empty.11d47c17.svg"},42:function(e,t,a){e.exports=a(60)},49:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(34),i=a.n(r),l=a(18),s=a(11),o=a(3),u=a.n(o),m=a(7),d=a(1),f=a(8),p=a.n(f),h=a(4),E=a(35),v=a.n(E);a(49);var b=function(e){var t=e.children,a=e.page,n=e.number;function r(){var e=document.body;if(e.classList.toggle("hide-sidedrawer"),e.clientWidth<769){var t=document.getElementById("sidedrawer"),a=document.getElementById("mui-overlay");t.classList.toggle("active"),a.classList.toggle("hide")}}return e.history,c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{id:"mui-overlay",className:"hide",tabindex:"-1",onClick:r}),c.a.createElement("div",{id:"sidedrawer",className:"mui--no-user-select"},c.a.createElement("div",{id:"sidedrawer-brand",className:"mui--appbar-line-height"},c.a.createElement(h.h,{size:25,className:"brand-icon"}),c.a.createElement("span",{className:"mui--text-title"},"gTask")),c.a.createElement(l.b,{to:"/",className:"Tarefas"===a?"sidedrawer-item sidedrawer-item-active":"sidedrawer-item"},c.a.createElement(h.d,{size:20}),c.a.createElement("p",{className:"menu-text"},"Tarefas")),c.a.createElement(l.b,{to:"/finished",className:"Tarefas Conclu\xeddas"===a?"sidedrawer-item sidedrawer-item-active":"sidedrawer-item"},c.a.createElement(h.c,{size:20}),c.a.createElement("p",{className:"menu-text"},"Tarefas Conclu\xeddas")),c.a.createElement("div",{className:"menu-bottom"},c.a.createElement("div",{className:"menu-bottom-center"},c.a.createElement("img",{src:v.a,alt:"notes",className:"menu-bottom-image"})),"Organize suas atividades e calcule o tempo de execu\xe7\xe3o. ",c.a.createElement("br",null),c.a.createElement("p",{className:"bolder"},c.a.createElement("br",null),"Desenvolvido Por: Iago Ronan ",c.a.createElement("br",null),"iago.vsantos@gmail.com ",c.a.createElement("br",null)," (82) 9.9838-2776"))),c.a.createElement("header",{id:"header"},c.a.createElement("div",{className:"mui-appbar mui--appbar-line-height"},c.a.createElement("div",{className:"mui-container"},c.a.createElement("a",{className:"sidedrawer-toggle mui--visible-xs-inline-block mui--visible-sm-inline-block js-show-sidedrawer",onClick:r},"\u2630"),c.a.createElement("a",{className:"sidedrawer-toggle mui--hidden-xs mui--hidden-sm js-hide-sidedrawer",onClick:r},"\u2630"),c.a.createElement("span",{className:"mui--text-title2"},a," ",n>=0&&c.a.createElement("span",null,"(",n,")"))))),t)},g=a(13),w=a.n(g),N=a(38),j=a.n(N),O=(a(54),j.a.initializeApp({apiKey:"AIzaSyCN1wMbwb5cN7ROpAIs1BuaMHAsRugeN-c",authDomain:"private-code-challange.firebaseapp.com",databaseURL:"https://private-code-challange.firebaseio.com",projectId:"private-code-challange",storageBucket:"private-code-challange.appspot.com",messagingSenderId:"237725154803",appId:"1:237725154803:web:706d5f9c781dc1de42a686"}).firestore()),k=function(e){var t=Math.floor(e%60);e/=60;var a=Math.floor(e%60);e/=60;var n=Math.floor(e%24);return(n+=24*Math.floor(e/24))<10&&(n="0".concat(n)),a<10&&(a="0".concat(a)),t<10&&(t="0".concat(t)),{hours:n,minutes:a,seconds:t}},y=function(e){var t=e.id,a=e.name,r=e.times,i=e.onSelect,l=Object(n.useState)("00"),s=Object(d.a)(l,2),o=s[0],f=s[1],E=Object(n.useState)("00"),v=Object(d.a)(E,2),b=v[0],g=v[1],N=Object(n.useState)("00"),j=Object(d.a)(N,2),y=j[0],x=j[1],S=Object(n.useState)(1e3),C=Object(d.a)(S,1)[0],z=Object(n.useState)(!1),I=Object(d.a)(z,2),T=I[0],A=I[1];function B(){return(B=Object(m.a)(u.a.mark((function e(){var a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=O.collection("tasks").doc(t),e.next=3,a.get();case 3:n=e.sent,(c=n.data()).status=1,a.set(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(m.a)(u.a.mark((function e(){var a,n,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=O.collection("tasks").doc(t),e.next=3,a.get();case 3:n=e.sent,c=n.data(),(0===(r=c.times?c.times:[]).length||r.length>0&&null!=r[r.length-1].finish)&&(r.push({init:Date.now(),finish:null}),c.times=r,a.set(c)),A(!0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(m.a)(u.a.mark((function e(){var a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=O.collection("tasks").doc(t),e.next=3,a.get();case 3:n=e.sent,(c=n.data()).times.length>0&&null===c.times[c.times.length-1].finish&&(c.times[c.times.length-1].finish=Date.now(),a.set(c)),A(!1),R(c.times);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=0;r&&!e&&r.forEach((function(e){var a=0;e.finish||(a=Date.now());var n=0!==a?a-e.init:e.finish-e.init;t+=n/=1e3})),e&&e.forEach((function(e){var a=e.finish-e.init;t+=a/=1e3}));var a=k(t);x(a.seconds),g(a.minutes),f(a.hours),r&&!e&&r.length>0&&null==r[r.length-1].finish&&A(!0)}return function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){var e=parseInt(y)+1;if(e<60)x(e<10?"0".concat(e):e);else{var t=parseInt(b)+1;if(x("00"),t<60)g(t<10?"0".concat(t):t);else{var a=parseInt(o)+1;g("00"),f(a<10?"0".concat(a):a)}}}),T?C:null),Object(n.useEffect)((function(){R()}),[]),c.a.createElement(w.a,{className:T&&"task-active"},c.a.createElement("div",{className:T?"mui--text-subhead task-tilte truncate task-text-active":"mui--text-subhead task-tilte truncate",onClick:i},a),c.a.createElement("div",{className:"task-footer"},c.a.createElement("div",{className:"task-data"},c.a.createElement("div",{className:"task-time"},c.a.createElement(h.g,{size:15,className:"icon"}),"".concat(o,":").concat(b,":").concat(y)),c.a.createElement("div",{className:"footer-buttons"},c.a.createElement(p.a,{className:"task-button",size:"small",variant:"raised",color:"primary",onClick:function(){return B.apply(this,arguments)},disabled:T},"Concluir"),c.a.createElement("div",null,c.a.createElement(p.a,{size:"small",color:"primary",variant:"flat",className:"button-icon",onClick:function(){return M.apply(this,arguments)},disabled:!T},c.a.createElement(h.e,{className:"task-icon-button",size:20})),c.a.createElement(p.a,{size:"small",color:"primary",variant:"flat",className:"button-icon",onClick:function(){return D.apply(this,arguments)},disabled:T},c.a.createElement(h.f,{className:"task-icon-button",size:20})))))))},x=a(14),S=a.n(x),C=a(15),z=a.n(C),I=a(16),T=a.n(I),A=function(e){var t=e.data,a=e.selectItem;return(c.a.createElement(S.a,{fluid:!0},c.a.createElement(z.a,null,t&&t.map((function(e,t){return c.a.createElement(T.a,{md:"4",key:t},c.a.createElement(y,{onSelect:function(){return a(e)},id:e.id,name:e.name,times:e.times}))})))))},B=a(27),D=a(39),M=a.n(D),R=a(40),L=a.n(R),W=function(e){var t=e.children;return(c.a.createElement("div",{id:"mui-overlay"},c.a.createElement("div",{className:"center"},c.a.createElement("div",{className:"modal"},t))))};var F=function(e){var t=e.isVisible,a=e.title,r=e.onCancel,i=e.task,l=Object(n.useState)({}),s=Object(d.a)(l,2),o=s[0],u=s[1];return Object(n.useEffect)((function(){u(i||{})}),[t,i]),c.a.createElement(c.a.Fragment,null,t&&c.a.createElement(W,null,c.a.createElement("form",{className:"mui-form",onSubmit:function(e){if(e.preventDefault(),o.id){var t=O.collection("tasks").doc(o.id);delete o.id,t.set(o)}else o.status=0,o.createdAt=new Date,O.collection("tasks").add(o);r(),u({})}},c.a.createElement("legend",null,a),c.a.createElement("div",{className:"mui-textfield"},c.a.createElement(M.a,{required:!0,label:"Nome",value:o.name,onChange:function(e){return u(Object(B.a)({},o,{name:e.target.value}))}})),c.a.createElement("div",{className:"mui-textfield"},c.a.createElement(L.a,{label:"Descri\xe7\xe3o",value:o.description,onChange:function(e){return u(Object(B.a)({},o,{description:e.target.value}))},rows:10})),c.a.createElement("div",{className:"mui--text-right"},c.a.createElement(p.a,{type:"button",variant:"raised",onClick:r},"Cancelar"),c.a.createElement(p.a,{color:"primary",type:"submit"},"Salvar")))))},H=a(41),J=a.n(H);var V=function(e){var t=e.history,a=Object(n.useState)(!1),r=Object(d.a)(a,2),i=r[0],l=r[1],s=Object(n.useState)(null),o=Object(d.a)(s,2),f=o[0],E=o[1],v=Object(n.useState)([]),g=Object(d.a)(v,2),w=g[0],N=g[1],j=Object(n.useState)(null),k=Object(d.a)(j,2),y=k[0],x=k[1];return Object(n.useEffect)((function(){O.collection("tasks").where("status","==",0).orderBy("createdAt","asc").onSnapshot(function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E([]),a=[],t.docs.map((function(e){var t=e.data();return t.id=e.id,a.push(t),!0})),E(a),N(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),c.a.createElement(b,{page:"Tarefas",number:w.length,history:t},f&&0===f.length&&c.a.createElement("div",{id:"content-wrapper-center"},c.a.createElement("div",{className:"empty"},c.a.createElement("img",{src:J.a,alt:"empty",style:{width:120}}),c.a.createElement("p",{className:"text-center"},"Nenhuma tarefa cadastrada no momento."))),f&&f.length>0&&c.a.createElement("div",{id:"content-wrapper"},c.a.createElement(A,{data:f,selectItem:function(e){return function(e){x(e),l(!0)}(e)}})),c.a.createElement(p.a,{className:"fab-add",variant:"fab",color:"primary",onClick:function(){x(null),l(!0)}},c.a.createElement(h.b,{size:25})),c.a.createElement(F,{isVisible:i,onCancel:function(){x(null),l(!1)},title:"Adicionar Tarefa",task:y}))},q=function(e){var t=e.icon,a=e.title,n=e.value;return(c.a.createElement(T.a,{md:"4"},c.a.createElement(w.a,{className:"painel-container"},c.a.createElement("div",{className:"painel-icon"},t),c.a.createElement("div",{className:"painel-content"},c.a.createElement("p",{className:"painel-content-title"},a),c.a.createElement("p",{className:"painel-content-value"},n)))))};var K=function(e){var t=e.task,a=Object(n.useState)({hours:"00",minutes:"00",seconds:"00"}),r=Object(d.a)(a,2),i=r[0],l=r[1];function s(){return(s=Object(m.a)(u.a.mark((function e(){var a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=O.collection("tasks").doc(t.id),e.next=3,a.get();case 3:n=e.sent,(c=n.data()).status=0,a.set(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){if(t.times){var e=0;t.times.forEach((function(t){var a=t.finish-t.init;e+=a/=1e3})),l(k(e))}}),[t]),c.a.createElement("tr",null,c.a.createElement("td",null,t.name),c.a.createElement("td",null,"".concat(i.hours,":").concat(i.minutes,":").concat(i.seconds)),c.a.createElement("td",null,c.a.createElement(p.a,{size:"small",color:"primary",onClick:function(){return s.apply(this,arguments)},style:{margin:0}},"Reabrir")))},P=function(e){var t=e.data;return(c.a.createElement(S.a,{fluid:!0},c.a.createElement(z.a,null,c.a.createElement(T.a,{md:"12"},c.a.createElement(w.a,null,c.a.createElement("table",{className:"mui-table  mui-table--bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Tarefa"),c.a.createElement("th",null,"Tempo Trabalhado"),c.a.createElement("th",null,"Op\xe7\xe3o"))),c.a.createElement("tbody",null,t&&0===t.length&&c.a.createElement("tr",null,c.a.createElement("td",{style:{textAlign:"center"},colSpan:3},"Nenhuma tarefa conclu\xedda at\xe9 o momento.")),t&&t.map((function(e,t){return c.a.createElement(K,{key:t,task:e})})))))))))};var U=function(e){var t=e.history,a=Object(n.useState)(null),r=Object(d.a)(a,2),i=r[0],l=r[1],s=Object(n.useState)([]),o=Object(d.a)(s,2),f=o[0],p=o[1],E=Object(n.useState)({hours:"00",minutes:"00",seconds:"00"}),v=Object(d.a)(E,2),g=v[0],w=v[1],N=Object(n.useState)({hours:"00",minutes:"00",seconds:"00"}),j=Object(d.a)(N,2),y=j[0],x=j[1];function C(e){if(e.length>0){var t=0;e.forEach((function(e){e.times&&e.times.forEach((function(e){var a=e.finish-e.init;t+=a/=1e3}))})),x(k(t/e.length)),w(k(t))}}return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.collection("tasks").where("status","==",1).orderBy("createdAt","asc").onSnapshot(function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l([]),a=[],t.docs.map((function(e){var t=e.data();return t.id=e.id,a.push(t),!0})),l(a),p(a),C(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),c.a.createElement(b,{page:"Tarefas Conclu\xeddas",history:t},c.a.createElement("div",{id:"content-wrapper"},c.a.createElement(S.a,{fluid:!0},c.a.createElement(z.a,null,c.a.createElement(q,{title:"Total de Tarefas Conclu\xeddas",value:f.length,icon:c.a.createElement(h.c,{size:50})}),c.a.createElement(q,{title:"Total de Horas Trabalhadas",value:"".concat(g.hours,":").concat(g.minutes,":").concat(g.seconds),icon:c.a.createElement(h.h,{size:50})}),c.a.createElement(q,{title:"Tempo M\xe9dio",value:"".concat(y.hours,":").concat(y.minutes,":").concat(y.seconds),icon:c.a.createElement(h.a,{size:50})}))),c.a.createElement(P,{data:i})))},$=function(){return c.a.createElement(l.a,null,c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/",component:V}),c.a.createElement(s.a,{exact:!0,path:"/finished",component:U})))},G=function(){return c.a.createElement($,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.23fdfc9f.chunk.js.map